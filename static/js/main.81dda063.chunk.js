(this["webpackJsonpcreate-react-app-antd"]=this["webpackJsonpcreate-react-app-antd"]||[]).push([[0],{193:function(e,t,a){e.exports=a.p+"static/media/back3.7404a119.jpg"},203:function(e,t,a){e.exports=a(315)},208:function(e,t,a){},209:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),o=(a(208),a(209),a(45)),s=a(59),i=a(78),u=a(326),m=a(102),p=a(321),d=a(23),E=a(329),h=function(){return r.a.createElement(i.a,{style:{marginLeft:"10px"},size:"large",type:"default",shape:"circle"},r.a.createElement(E.a,null))},f=a(32),g=a(100),v=a.n(g),y=a(129),b=a(21),w=a.n(b),S=function(){return{type:"USER_REQUEST"}},j=function(e){return{type:"USER_SAVED_SUCCESS",payload:e}},C=function(e){return{type:"USER_FAILURE",payload:e}},O=function(e){return{type:"POST_SUCCESS",payload:e}},I=function(e){return{type:"POST_FAILURE",payload:e}},N=function(){return function(e){e({type:"LOGOUT_REQUEST"}),localStorage.removeItem("jwtToken"),localStorage.removeItem("user_email"),e(x(!1))}},x=function(e){return{type:"SUCCESS",payload:e}},k=function(e){return{type:"FAILURE",payload:e}},P=a(62),T=a.n(P),U=function(){var e=Object(f.d)((function(e){return e.auth})),t=Object(f.c)(),a=r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{offset:17},r.a.createElement(d.b,{exact:!0,to:"/login"},r.a.createElement(i.a,{type:"text"},"Log In")),r.a.createElement(d.b,{exact:!0,to:"/register"},r.a.createElement(i.a,{type:"text",style:{color:"#1890ff"}},"Register")))),n=r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{offset:17},r.a.createElement(d.b,{exact:!0,to:"/MyProfile"},r.a.createElement(h,null))),r.a.createElement(s.a,{style:{marginLeft:"5px"}},r.a.createElement(d.b,{exact:!0,to:"/",onClick:function(){t(N())}},r.a.createElement(i.a,{type:"text",style:{color:"#1890ff"}},"Log Out"))));return r.a.createElement("div",{className:"MyHeader"},r.a.createElement(u.a,{offsetTop:0},r.a.createElement(o.c,{style:{width:"100%",background:"rgb(230, 234, 255)",padding:"0px 0px",height:"60px"}},r.a.createElement(m.a,null,r.a.createElement(s.a,{offset:1},r.a.createElement(d.b,{exact:!0,to:"/"},r.a.createElement(p.a.PreviewGroup,null,r.a.createElement(p.a,{width:70,preview:!1,style:{padding:"5px 5px"},src:T.a})))),r.a.createElement(s.a,null,r.a.createElement(d.b,{exact:!0,to:"/"},r.a.createElement("h1",{className:"GiveIt"},"GiveIt"))),e.isLoggedIn?n:a))))},F=a(27),L=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Chat"))},_=a(29),M=a(317),A=function(e){e?w.a.defaults.headers.common.Authorization="".concat(e):delete w.a.defaults.headers.common.Authorization},R=a(318),z=a(330),V=a(331),q=R.a.Meta,H=function(e){var t=e.product;return r.a.createElement(d.b,{exact:!0,to:"posts/".concat(t.id)},r.a.createElement("div",{className:"MyCard"},r.a.createElement(R.a,{hoverable:!0,style:{width:240,margin:"10px"},cover:r.a.createElement("img",{alt:"example",style:{height:"290px",width:"240px"},src:t.photo}),actions:[r.a.createElement(z.a,{key:"fav",twoToneColor:"#eb2f96"}),r.a.createElement(V.a,{key:"mess",twoToneColor:"#1890ff"})]},r.a.createElement(q,{title:t.title,avatar:r.a.createElement(E.a,null),category:t.category}))))},B=a(328),D=a(103),Q=a(41),G=a(53),J=function(){var e=Object(n.useState)([]),t=Object(_.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){w.a.get("http://localhost:8080/posts").then((function(e){var t=e.data;return l(t)}))}),[]);var c=localStorage.getItem("menuKey"),o=r.a.createElement(B.b,{align:"center",style:{height:"78vh"}},r.a.createElement(m.a,{justify:"center"},r.a.createElement(D.a,null)),r.a.createElement(m.a,{justify:"center"},r.a.createElement(G.a,{type:"secondary"},"Nu sunt produse in categoria: ",c))),s=r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{style:{padding:"50px",marginLeft:100}}," "==c?a.map((function(e){return r.a.createElement(H,{product:e})})):o)),i=r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{justify:"center"},r.a.createElement(Q.a,{level:4},"Vezi produsele din categoria: ",c)),r.a.createElement(m.a,{style:{padding:"50px",marginLeft:100}},a.filter((function(e){return e.category==c})).map((function(e){return r.a.createElement(H,{product:e})}))));return r.a.createElement(r.a.Fragment,null,0===a.filter((function(e){return e.category===localStorage.getItem("menuKey")})).length?s:i)},K=function(){localStorage.jwtToken&&A(localStorage.jwtToken);var e=Object(f.d)((function(e){return e.auth})),t=Object(f.c)();console.log(e.isLoggedIn),!e.isLoggedIn&&localStorage.jwtToken&&t(N());var a=Object(n.useState)([]),l=Object(_.a)(a,2),c=(l[0],l[1]);return Object(n.useEffect)((function(){w.a.get("http://localhost:8080/posts").then((function(e){var t=e.data;return c(t)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,null,r.a.createElement(J,null)))},W=a(73),$=a(48),X=a(49),Y=a(111),Z=a(65),ee=a(64),te=a(322),ae=a(320),ne=a(323),re=a(319),le=a(56),ce=a(200),oe=function(){var e=Object(n.useState)(""),t=Object(_.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(_.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)("");Object(_.a)(d,1)[0];return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(ne.a,{name:"photo",accept:"image/*",type:"file",onChange:function(e){return l(e.target.files[0])}})),r.a.createElement(m.a,{justify:"center",style:{padding:"3%"}},r.a.createElement(i.a,{type:"primary",onClick:function(){var e=new FormData;e.append("file",a),e.append("upload_preset","giveit"),e.append("cloud_name","dgwpw3bpf"),fetch("  https://api.cloudinary.com/v1_1/dgwpw3bpf/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){u(e.url),ce.b.success("Imaginea a fost incarcata cu success!").then((function(e){return ce.b})),localStorage.setItem("photo_url",e.url)})).catch((function(e){console.log(e),ce.b.error("Ups, ceva a mers nu cum trebuie").then((function(e){return ce.b}))}))}},"Incarca imaginea")),r.a.createElement(m.a,null,r.a.createElement("h1",null,"Imaginea incarcata va apre aici"),r.a.createElement(p.a,{width:100,src:s})),r.a.createElement("div",null))},se=function(e){Object(Z.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).initialState={modalVisible:!1,id:"",description:"",category:"Mobila si interior",photo:"",userid:""},n.handleCancelModal=function(){console.log("Clicked cancel button"),window.location.replace("/")},n.resetPost=function(){n.setState((function(){return n.initialState}))},n.submitPost=function(e){e.preventDefault();var t={title:n.state.title,description:n.state.description,category:n.state.category,photo:localStorage.getItem("photo_url"),userid:localStorage.getItem("user_email")};w.a.post("http://localhost:8080/posts/add-post",t).then((function(){n.setState(n.initialState)})).then((function(){return n.setModalVisible(!0)}))},n.postChange=function(e){n.setState(Object(W.a)({},e.target.name,e.target.value))},n.handleChange=function(e){n.setState({category:e})},n.state=n.initialState,n.postChange=n.postChange.bind(Object(Y.a)(n)),n.submitPost=n.submitPost.bind(Object(Y.a)(n)),n}return Object(X.a)(a,[{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{centered:!0,visible:this.state.modalVisible,onCancel:this.handleCancelModal,footer:[r.a.createElement(d.b,{exact:!0,to:"/"},r.a.createElement(i.a,null," Ok "))]},r.a.createElement(m.a,{justify:"center"},r.a.createElement("p",null,r.a.createElement(p.a,{width:95,preview:!1,style:{padding:"5px 5px"},src:T.a}))),r.a.createElement(m.a,{justify:"center"},r.a.createElement(Q.a,{level:2},"Anuntul a fost postat cu succes!"))),r.a.createElement(ae.a,{labelCol:{span:10},wrapperCol:{span:17},style:{width:500},onSubmitCapture:this.submitPost},r.a.createElement(ae.a.Item,{name:"title",label:"Titlu",rules:[{min:3,max:30,required:!0,message:"Introduce\u021bi un titlu mai mare de 3 caractere!",whitespace:!0}],style:{width:500}},r.a.createElement(ne.a,{placeholder:"Adauga Titlu",name:"title",className:"form-control",value:this.state.title,onChange:this.postChange})),r.a.createElement(ae.a.Item,{name:"description",label:"Descriere",rules:[{min:10,required:!0,message:"Adauga o descriere fiabila! (mai mult de 10 caractere)",whitespace:!0}],style:{width:500}},r.a.createElement(ne.a.TextArea,{rows:5,placeholder:"Adauga descrierea",name:"description",className:"form-control",value:this.state.description,onChange:this.postChange})),r.a.createElement(ae.a.Item,{name:"category",label:"Categorie",rules:[{required:!0,message:"Adauga Categoria",whitespace:!0}],style:{width:500}},r.a.createElement(re.a,{placeholder:"Alege categoria",name:"category",value:this.state.category,onChange:this.handleChange},r.a.createElement(le.a,{value:"Mobila si interior"},"Mobila si interior"),r.a.createElement(le.a,{value:"Haine, incaltaminte, accesorii"},"Haine, incaltaminte, accesorii"),r.a.createElement(le.a,{value:"Gadget-uri"},"Gadget-uri"),r.a.createElement(le.a,{value:"Sport, sanatate, frumusete"},"Sport, sanatate, frumusete"),r.a.createElement(le.a,{value:"Totul pentru copii"},"Totul pentru copii"),r.a.createElement(le.a,{value:"Animale de companie"},"Animale de companie"),r.a.createElement(le.a,{value:"Plante"},"Plante"),r.a.createElement(le.a,{value:"Carti, manuale"},"Carti, manuale"),r.a.createElement(le.a,{value:"Totul pentru casa"},"Totul pentru casa"),r.a.createElement(le.a,{value:"Instrumente muzicale"},"Instrumente muzicale"),r.a.createElement(le.a,{value:"Instrumente, constructie"},"Instrumente, constructie"))),r.a.createElement(ae.a.Item,{name:"photo",label:"Adauga poza"},r.a.createElement(oe,null)),r.a.createElement(i.a,{type:"submit",htmlType:"submit"},"Posteaza anuntul ")))}}]),a}(n.Component),ie=Object(f.b)((function(e){return{postObject:e.post}}),(function(e){return{savePost:function(t){return e((a=t,function(e){e({type:"SAVE_POST_REQUEST"}),w.a.post("http://localhost:8080/posts",a).then((function(t){e(O(t.data))})).catch((function(t){e(I(t))}))}));var a}}}))(se),ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{style:{height:"150vh"}},r.a.createElement(m.a,null,r.a.createElement("h1",{style:{"font-size":36,marginLeft:"70px",padding:"25px",color:"#1890ff"}},"Creaza  un anunt")),r.a.createElement(m.a,null,r.a.createElement(s.a,{offset:5},r.a.createElement(ie,null)))))},me=a(192),pe=a(199),de="http://localhost:8080/user/register",Ee=new(function(){function e(){Object($.a)(this,e)}return Object(X.a)(e,[{key:"getUsers",value:function(){return w.a.get(de)}},{key:"getLoggedInUser",value:function(){return w.a.get("http://localhost:8080/user/MyProfile")}},{key:"createUser",value:function(e){return w.a.post(de,e)}},{key:"getUserById",value:function(e){return w.a.get(de+"/"+e)}},{key:"updateUser",value:function(e){return w.a.put("http://localhost:8080/user/MyProfile/",e)}},{key:"deleteUser",value:function(e){return w.a.delete(de+"/"+e)}}]),e}());Object(me.a)(re.a);var he=function(e){Object(Z.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).updateUser=function(e){e.preventDefault();var t={firstName:n.state.firstName,lastName:n.state.lastName,email:n.state.email,password:n.state.password,phone:n.state.phone,province:n.state.province};console.log("user => "+JSON.stringify(t)),n.setModalVisible(!0),Ee.updateUser(t,n.state.id).then((function(e){n.props.history.push("/MyProfile")}))},n.changeFirstNameHandler=function(e){n.setState({firstName:e.target.value})},n.changeLastNameHandler=function(e){n.setState({lastName:e.target.value})},n.changePhoneHandler=function(e){n.setState({phone:e.target.value})},n.changeProvinceHandler=function(e){n.setState({province:e.target.value})},n.toggleDisabled=function(){n.setState({disabled:!n.state.disabled,showButton:!n.state.showButton})},n.state={firstName:"",lastName:"",email:"",password:"",phone:"",province:"",disabled:!0,showButton:!1,modalVisible:!1},n}return Object(X.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.a.get("http://localhost:8080/user/MyProfile").then((function(t){var a=t.data;e.setState({firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password,phone:a.phone,province:a.province}),console.log("user => "+JSON.stringify(a))})).catch((function(e){console.log(e.response)}))}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"render",value:function(){var e=r.a.createElement(m.a,null,r.a.createElement(ae.a.Item,{style:{marginRight:"50%"}},r.a.createElement(i.a,{type:"primary"},"Anuleaza")),r.a.createElement(ae.a.Item,null,r.a.createElement(i.a,{onClick:this.updateUser,htmlType:"submit",type:"primary"},"Actualizeaza"))),t=r.a.createElement(ae.a.Item,null,r.a.createElement(i.a,{onClick:this.toggleDisabled,type:"primary"},"Actualizati Profilul"));return console.log(localStorage.getItem("jwtToken")),r.a.createElement("div",null,r.a.createElement(te.a,{centered:!0,visible:this.state.modalVisible,footer:[r.a.createElement(d.b,{exact:!0,to:"/"},r.a.createElement(i.a,null," Pagina Principala "))]},r.a.createElement(m.a,{justify:"center"},r.a.createElement("p",null,r.a.createElement(p.a,{width:95,preview:!1,style:{padding:"5px 5px"},src:T.a}))),r.a.createElement(m.a,{justify:"center"},r.a.createElement(Q.a,{level:2},"Profilul a fost creat cu succes!")),r.a.createElement(m.a,{justify:"center"},r.a.createElement(Q.a,{level:4}," Bine ati venit!")),r.a.createElement(m.a,{justify:"center"},r.a.createElement(G.a,{type:"secondary"},"Alegeti unde vreti sa mergeti acum:"))),r.a.createElement("div",{className:"site-card-border-less-wrapper"},r.a.createElement(R.a,{title:"MyProfile",bordered:!1},r.a.createElement("h1",null,"hello ",this.state.email),r.a.createElement(m.a,null,r.a.createElement(s.a,{span:5},r.a.createElement(pe.a,{size:128,src:"https://i.ibb.co/V3NQKqC/photo-2021-09-27-14-16-38.jpg"})),r.a.createElement(s.a,{span:19},r.a.createElement(ae.a,{labelCol:{span:4},wrapperCol:{span:10}},r.a.createElement(ae.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"Email-ul este invalid!"},{required:!0,message:"Introduce\u021bi Email-ul!"}]},r.a.createElement(ne.a,{value:this.state.email,placeholder:this.state.email,disabled:this.state.disabled})),r.a.createElement(ae.a.Item,{name:"name",label:"Prenume",rules:[{required:!0,message:"Introduce\u021bi prenumele!",whitespace:!0}]},r.a.createElement(ne.a,{value:this.state.firstName,placeholder:this.state.firstName,onChange:this.changeFirstNameHandler})),r.a.createElement(ae.a.Item,{name:"surname",label:"Nume",rules:[{required:!0,message:"Introduce\u021bi numele!",whitespace:!0}]},r.a.createElement(ne.a,{value:this.state.lastName,placeholder:this.state.lastName,onChange:this.changeLastNameHandler})),r.a.createElement(ae.a.Item,{name:"residence",label:"Orasul",rules:[{required:!0,message:"Introduce\u021bi ora\u0219ul"}]},r.a.createElement(ne.a,{value:this.state.province,placeholder:this.state.province,onChange:this.changeProvinceHandler})),r.a.createElement(ae.a.Item,{name:"phone",label:"Nr de telefon",rules:[{required:!0,min:8,max:8,message:"Introduce\u021bi numarul de telefon!"}]},r.a.createElement(ne.a,{type:"number",prefix:"+373",value:this.state.phone,placeholder:this.state.phone,onChange:this.changePhoneHandler})),this.state.showButton?e:t))))))}}]),a}(n.Component),fe=Object(F.g)(he),ge=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"site-card-border-less-wrapper"},r.a.createElement(R.a,{title:"Favorite Items",bordered:!1,style:{overflow:"auto",height:"700px"}})))},ve=R.a.Meta,ye=function(e){var t=e.product;return r.a.createElement("div",{className:"MyCard"},r.a.createElement(B.b,{align:"center"},r.a.createElement(s.a,null,r.a.createElement(d.b,{exact:!0,to:"posts/".concat(t.id)},r.a.createElement(R.a,{hoverable:!0,style:{width:180,margin:"10px"},cover:r.a.createElement("img",{alt:"example",src:t.photo}),actions:[r.a.createElement(z.a,{key:"fav",twoToneColor:"#eb2f96"}),r.a.createElement(V.a,{key:"mess",twoToneColor:"#1890ff"})]},r.a.createElement(ve,{title:t.title,avatar:r.a.createElement(E.a,null),category:t.category}))))))},be=function(){var e=Object(n.useState)([]),t=Object(_.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(_.a)(c,2),s=o[0],u=o[1];Object(n.useEffect)((function(){w.a.get("http://localhost:8080/posts").then((function(e){var t=e.data;return l(t)}))}),[]),Object(n.useEffect)((function(){w.a.get("http://localhost:8080/user/MyProfile").then((function(e){var t=e.data;return u(t)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-card-border-less-wrapper"},r.a.createElement(R.a,{title:"Postarile mele",bordered:!1,style:{overflow:"auto",height:"700px"}},a.filter((function(e){return s.email==e.userid})).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{product:e}),r.a.createElement("div",null,r.a.createElement(i.a,{onClick:function(t){return n=e.id,void w.a.delete("http://localhost:8080/posts/".concat(n)).then((function(e){var t=a.filter((function(e){return e.id!==n}));l(t)}));var n},type:"primary",danger:!0,style:{margin:"10px",marginLeft:"7%"}},"Delete")))})))))};var we=function(){var e=Object(n.useState)(1),t=Object(_.a)(e,2),a=t[0],l=t[1],c=function(e){l(e)};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"bloc-tabs"},r.a.createElement("button",{className:1===a?"tabs active-tabs":"tabs",onClick:function(){return c(1)}},"My Profile"),r.a.createElement("button",{className:2===a?"tabs active-tabs":"tabs",onClick:function(){return c(2)}},"Favorite Items"),r.a.createElement("button",{className:3===a?"tabs active-tabs":"tabs",onClick:function(){return c(3)}},"My Posts")),r.a.createElement("div",{className:"content-tabs"},r.a.createElement("div",{className:1===a?"content  active-content":"content"},r.a.createElement(fe,null)),r.a.createElement("div",{className:2===a?"content  active-content":"content"},r.a.createElement(ge,null)),r.a.createElement("div",{className:3===a?"content  active-content":"content"},r.a.createElement(be,null))))},Se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,null,r.a.createElement(we,null)))},je=a(324),Ce=M.a.Sider,Oe=function(e){Object(Z.a)(a,e);var t=Object(ee.a)(a);function a(){return Object($.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{style:{padding:"40px 60px"}},r.a.createElement(d.b,{exact:!0,to:"/add_announcement"},r.a.createElement(i.a,{type:"primary",ghost:!0},"Creaza un anunt"))),a=r.a.createElement("div",{style:{padding:"40px 60px"}},r.a.createElement(d.b,{exact:!0,to:"/login"},r.a.createElement(i.a,{type:"primary",ghost:!0},"Creaza un anunt")));return r.a.createElement("div",{className:"Sider"},r.a.createElement(Ce,{className:"site-layout-background",width:200},r.a.createElement(je.a,{onClick:function(t){localStorage.setItem("menuKey",t.key),e.props.history.push("/"),console.log(t.key)},mode:"inline",style:{height:"92vh",position:"fixed",left:0,width:"250px"}},this.props.auth.isLoggedIn?t:a,r.a.createElement(je.a.Item,{key:" "},"Toate Produsele"),r.a.createElement(je.a.Item,{key:"Mobila si interior"},"Mobila si interior"),r.a.createElement(je.a.Item,{key:"Haine, incaltaminte, accesorii"},"Haine, incaltaminte, accesorii"),r.a.createElement(je.a.Item,{key:"Gadget-uri"},"Gadget-uri"),r.a.createElement(je.a.Item,{key:"Sport, sanatate, frumusete"},"Sport, sanatate, frumusete"),r.a.createElement(je.a.Item,{key:"Totul pentru copii"},"Totul pentru copii"),r.a.createElement(je.a.Item,{key:"Animale de companie"},"Animale de companie"),r.a.createElement(je.a.Item,{key:"Plante"},"Plante"),r.a.createElement(je.a.Item,{key:"Carti, manuale"},"Carti, manuale"),r.a.createElement(je.a.Item,{key:"Totul pentru casa"},"Totul pentru casa"),r.a.createElement(je.a.Item,{key:"Instrumente muzicale"},"Instrumente muzicale"),r.a.createElement(je.a.Item,{key:"Instrumente, constructie"},"Instrumente, constructie"))))}}]),a}(n.Component),Ie=Object(f.b)((function(e){return{auth:e.auth}}))(Object(F.g)(Oe)),Ne=a(327),xe=a(325),ke=function(e){Object(Z.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).initialState={modalVisible:!1,error:"",showError:!1,firstName:"",lastName:"",email:"",password:"",phone:"",province:""},n.handleCancelModal=function(){console.log("Clicked cancel button"),n.props.history.push("/")},n.userChange=function(e){n.setState(Object(W.a)({},e.target.name,e.target.value))},n.registerUser=function(){var e={firstName:n.state.firstName,lastName:n.state.lastName,email:n.state.email,password:n.state.password,phone:n.state.phone,province:n.state.province};n.props.registerUser(e),n.resetRegistrationForm(),setTimeout((function(){null!=n.props.user.message?n.setModalVisible(!0):(n.setState({showError:!0}),n.setState({error:"This email already exists or something is missing"}),console.log(n.state.error))}),2e3)},n.resetRegistrationForm=function(){n.setState((function(){return n.initialState}))},n.state=n.initialState,n}return Object(X.a)(a,[{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.showError&&this.state.error&&r.a.createElement(Ne.a,{variant:"danger",onClose:function(){return e.resetRegistrationForm()},dismissible:!0,message:this.state.error},this.error),r.a.createElement(te.a,{centered:!0,visible:this.state.modalVisible,onCancel:this.handleCancelModal,footer:[r.a.createElement(m.a,{justify:"space-around"},r.a.createElement(d.b,{exact:!0,to:"/"},r.a.createElement(s.a,null,r.a.createElement(i.a,null," Pagina Principala "))),",",r.a.createElement(s.a,null,r.a.createElement(d.b,{exact:!0,to:"/login"},r.a.createElement(i.a,{type:"primary"}," Conecteaza-te "))))]},r.a.createElement(m.a,{justify:"center"},r.a.createElement("p",null,r.a.createElement(p.a,{width:95,preview:!1,style:{padding:"5px 5px"},src:T.a}))),r.a.createElement(m.a,{justify:"center"},r.a.createElement(Q.a,{level:2},"Profilul a fost creat cu succes!")),r.a.createElement(m.a,{justify:"center"},r.a.createElement(Q.a,{level:4}," Bine ati venit!")),r.a.createElement(m.a,{justify:"center"},r.a.createElement(G.a,{type:"secondary"},"Alegeti unde vreti sa mergeti acum:"))),r.a.createElement(ae.a,{labelCol:{span:10},wrapperCol:{span:17},style:{width:500}},r.a.createElement(ae.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"Email-ul este invalid!"},{required:!0,message:"Introduce\u021bi Email-ul!"}]},r.a.createElement(ne.a,{placeholder:"Email",name:"email",className:"form-control",value:this.state.email,onChange:this.userChange})),r.a.createElement(ae.a.Item,{name:"lastname",label:"Nume",rules:[{required:!0,message:"Introduce\u021bi numele!",whitespace:!0}],style:{width:500}},r.a.createElement(ne.a,{placeholder:"Last Name",name:"lastName",className:"form-control",value:this.state.lastName,onChange:this.userChange})),r.a.createElement(ae.a.Item,{name:"firstname",label:"Prenume",rules:[{required:!0,message:"Introduce\u021bi prenumele!",whitespace:!0}],style:{width:500}},r.a.createElement(ne.a,{placeholder:"First Name",name:"firstName",className:"form-control",value:this.state.firstName,onChange:this.userChange})),r.a.createElement(ae.a.Item,{name:"orasul",label:"orasul",rules:[{message:"Introduce\u021bi prenumele!",whitespace:!0}],style:{width:500}},r.a.createElement(ne.a,{placeholder:"orasul",name:"orasul",className:"form-control",value:this.state.province,onChange:this.userChange})),r.a.createElement(ae.a.Item,{name:"phone",label:"Nr de telefon",rules:[{required:!0,min:8,max:8,message:"Introduce\u021bi numarul de telefon!"}],style:{width:500}},r.a.createElement(ne.a,{type:"number",prefix:"+373",placeholder:"Phone",name:"phone",className:"form-control",value:this.state.phone,onChange:this.userChange})),r.a.createElement(ae.a.Item,{name:"password",label:"Parola",rules:[{required:!0,min:5,message:"Introducre\u021bi parola!"}],style:{width:500},hasFeedback:!0},r.a.createElement(ne.a.Password,{placeholder:"Password",name:"password",className:"form-control",value:this.state.password,onChange:this.userChange})),r.a.createElement(ae.a.Item,{name:"confirm",label:"Confirm\u0103 parola",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Confirma\u021bi parola!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("Parola nu coincide!")):Promise.resolve()}}}],style:{width:500}},r.a.createElement(ne.a.Password,{placeholder:"Confirm Password",name:"password",className:"form-control",value:this.state.password,onChange:this.userChange})),r.a.createElement(ae.a.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject(new Error("Should accept agreement"))}}],style:{width:500}},r.a.createElement(xe.a,null,"Sunt de acord cu ",r.a.createElement("a",{href:""},"termenii \u0219i condi\u021biile"))),r.a.createElement(ae.a.Item,null,r.a.createElement(i.a,{type:"primary",htmlType:"submit",onClick:this.registerUser},"Register"))))}}]),a}(n.Component),Pe=Object(f.b)((function(e){return{user:e.user}}),(function(e){return{registerUser:function(t){return e(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(S()),t.prev=1,t.next=4,w.a.post("http://localhost:8080/user/register",e);case 4:return n=t.sent,a(j(n.data)),t.abrupt("return",Promise.resolve(n.data));case 9:return t.prev=9,t.t0=t.catch(1),a(C(t.t0.message)),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Object(F.g)(ke)),Te=a(193),Ue=a.n(Te),Fe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.e,{style:{height:"100vh",backgroundImage:"url(".concat(Ue.a,")")}},r.a.createElement(m.a,null,r.a.createElement("h1",{style:{"font-size":36,marginLeft:"70px",padding:"25px",color:"#1890ff"}},"\xcenregistreaza-te")),r.a.createElement(m.a,null,r.a.createElement(s.a,{offset:5},r.a.createElement(Pe,null)))))},Le=(a(303),function(e){Object(Z.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).initialState={email:"",password:"",error:"",showError:!1,modalVisible:!1},n.credentialChange=function(e){n.setState(Object(W.a)({},e.target.name,e.target.value))},n.validateUser=function(e){var t={email:n.state.email,password:n.state.password};n.props.authenticateUser(t),setTimeout((function(){if(n.props.auth.isLoggedIn)return n.setModalVisible(!0);n.resetLoginForm(),n.setState({showError:!0}),n.setState({error:"Invalid email and password"})}),500)},n.handleCancelModal=function(){console.log("Clicked cancel button"),n.props.history.push("/")},n.resetLoginForm=function(){n.setState((function(){return n.initialState}))},n.state=n.initialState,n}return Object(X.a)(a,[{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.showError&&this.state.error&&r.a.createElement(Ne.a,{variant:"danger",onClose:function(){return e.resetLoginForm()},dismissible:!0,message:this.state.error},this.error),r.a.createElement(te.a,{centered:!0,onCancel:this.handleCancelModal,visible:this.state.modalVisible,footer:[r.a.createElement(m.a,{justify:"space-around"},r.a.createElement(d.b,{exact:!0,to:"/"},r.a.createElement(s.a,null,r.a.createElement(i.a,null," Pagina Principala "))),",",r.a.createElement(d.b,{exact:!0,to:"/add_announcement"},r.a.createElement(s.a,null,r.a.createElement(i.a,{type:"primary"}," Creeaza un anunt "))))]},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{justify:"center"},r.a.createElement("p",null,r.a.createElement(p.a,{width:95,preview:!1,style:{padding:"5px 5px"},src:T.a}))),r.a.createElement(m.a,{justify:"center"},r.a.createElement(Q.a,{level:2},"Bine ai revenit!")),r.a.createElement(m.a,{justify:"center"},r.a.createElement(G.a,{type:"secondary"},"Alegeti unde vreti sa mergeti acum:")))),r.a.createElement(ae.a,null,r.a.createElement(ae.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],style:{width:400}},r.a.createElement(ne.a,{placeholder:"Email",name:"email",className:"form-control",value:this.state.email,onChange:this.credentialChange})),r.a.createElement(ae.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(ne.a.Password,{name:"password",className:"form-control",type:"password",placeholder:"Password",value:this.state.password,onChange:this.credentialChange})),r.a.createElement(ae.a.Item,null,r.a.createElement(ae.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(xe.a,null,"Remember me")),r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")),r.a.createElement(ae.a.Item,null,r.a.createElement(i.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.validateUser},"Log in")),r.a.createElement(ae.a.Item,null,"Or ",r.a.createElement(d.b,{exact:!0,to:"/register"},r.a.createElement("a",{href:""},"register now!")))))}}]),a}(n.Component)),_e=Object(f.b)((function(e){return{auth:e.auth}}),(function(e){return{authenticateUser:function(t){return e(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(a){var n,r,l,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"LOGIN_REQUEST"}),t.prev=1,n=e.email,r=e.password,t.next=6,w.a.post("http://localhost:8080/user/authenticate",{email:n,password:r});case 6:return l=t.sent,c=l.data.token,localStorage.setItem("jwtToken",c),a(x({username:l.data.name,isLoggedIn:!0})),localStorage.setItem("user_email",n),t.abrupt("return",Promise.resolve(l.data));case 14:return t.prev=14,t.t0=t.catch(1),a(k()),t.abrupt("return",Promise.reject(t.t0));case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Object(F.g)(Le)),Me=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.e,{style:{height:"100vh"}},r.a.createElement(m.a,null,r.a.createElement("h1",{style:{"font-size":36,marginLeft:"100px",padding:"25px",color:"#1890ff"}},"Log In")),r.a.createElement(m.a,null,r.a.createElement(s.a,{offset:8},r.a.createElement(_e,null)))))},Ae=a(201),Re=a(190),ze=a(195),Ve=function(e){var t=Object(n.useState)(null),a=Object(_.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!0),o=Object(_.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(null),m=Object(_.a)(u,2),p=m[0],d=m[1];return Object(n.useEffect)((function(){setTimeout((function(){fetch(e).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){i(!1),l(e),d(null)})).catch((function(e){i(!1),d(e.message)}))}),1e3)}),[]),{data:r,isPending:s,error:p}},qe=(a(304),a(194)),He=function(){var e=Object(f.d)((function(e){return e.auth})),t=Object(F.f)().id,a=Ve("http://localhost:8080/posts/posts/".concat(t)),l=a.data,c=a.error,o=a.isPending,u=Object(n.useState)(!1),p=Object(_.a)(u,2),E=p[0],h=p[1],g=Object(n.useState)([]),v=Object(_.a)(g,2),y=v[0],b=v[1],S=r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{justify:"space-around",style:{marginTop:"3%",marginBottom:"3%"}},r.a.createElement(s.a,null,r.a.createElement(i.a,{onClick:function(){return e="success",void Ae.a[e]({message:"Adaugat la favorit",description:"Postarea a fost adaugata cu succes in lista de produse favorite!",duration:3.5});var e}},r.a.createElement(z.a,{key:"fav",twoToneColor:"#eb2f96"}),"Add to Favorite")),r.a.createElement(s.a,null,r.a.createElement(i.a,{onClick:function(e){w.a.get("http://localhost:8080/user/post/".concat(l.userid)).then((function(e){var t=e.data;b({first:t.firstName,lastName:t.lastName,email:t.email,password:t.password,phone:t.phone,province:t.province}),h(!E),console.log("user => "+JSON.stringify(t))})).catch((function(e){console.log(e.response)}))}},r.a.createElement(V.a,{key:"mess",twoToneColor:"#1890ff"}),"Info proprietar"))),r.a.createElement(m.a,null,E?r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement("p",null,"Telefon: ",y.phone)),r.a.createElement(m.a,null,r.a.createElement("p",null,"Email:  ",y.email)),r.a.createElement(m.a,null,r.a.createElement("p",null,"Oras: ",y.province))):r.a.createElement(r.a.Fragment,null))),j=r.a.createElement("div",{style:{marginTop:"3%",marginBottom:"3%"}},r.a.createElement(s.a,null,r.a.createElement(G.a,{type:"secondary"},"Conecteaza-te sau Inregistraza-te pentru a contacta autorul anuntului:")),r.a.createElement(m.a,{justify:"space-around",style:{marginTop:"1%"}},r.a.createElement(s.a,null,r.a.createElement(d.b,{exact:!0,to:"/login"},r.a.createElement(i.a,{type:"link"},"Conecteaza-te"))),r.a.createElement(s.a,null,r.a.createElement(d.b,{exact:!0,to:"/register"},r.a.createElement(i.a,{type:"link"},"Inregistreaza-te")))));return r.a.createElement("div",null,o&&r.a.createElement(m.a,{justify:"center",style:{height:"100vh"}},r.a.createElement(s.a,{offset:20,span:3,style:{padding:"40px"}},r.a.createElement("div",{align:"center"},r.a.createElement(Re.a,{style:{width:"50vh"},tip:"loading"})))),c&&r.a.createElement("div",null,c),l&&r.a.createElement(m.a,{justify:"space-around",align:"middle"},r.a.createElement(s.a,{span:10,style:{padding:"40px"}},r.a.createElement("div",null,r.a.createElement(qe.Carousel,null,r.a.createElement("div",null,r.a.createElement("img",{alt:"",src:l.photo}))))),r.a.createElement(s.a,{style:{padding:"40px",marginBottom:"15%"},span:10},r.a.createElement(m.a,null," ",r.a.createElement(Q.a,null,l.title)," "),r.a.createElement(m.a,null,r.a.createElement(ze.a,null,l.description)),e.isLoggedIn?S:j,r.a.createElement(m.a,{justify:"end"},r.a.createElement(G.a,{type:"secondary"},"Posted by: ",l.userid)),r.a.createElement(m.a,{justify:"end"},r.a.createElement(G.a,{type:"secondary"},l.created)))))},Be=function(){return r.a.createElement(d.a,null,r.a.createElement(M.a,null,r.a.createElement(U,null),r.a.createElement(M.a,null,r.a.createElement(Ie,null),r.a.createElement(F.c,null,r.a.createElement(F.a,{path:"/chat",component:L}),r.a.createElement(F.a,{path:"/",exact:!0,component:K}),r.a.createElement(F.a,{path:"/add_announcement",component:ue}),r.a.createElement(F.a,{path:"/register",component:Fe}),r.a.createElement(F.a,{path:"/MyProfile",component:Se}),r.a.createElement(F.a,{path:"/login",component:Me}),r.a.createElement(F.a,{path:"/posts/:id",component:He})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var De=a(112),Qe=a(196),Ge=a(80),Je={users:[],error:""},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REQUEST":return Object(Ge.a)({},e);case"USER_SUCCESS":return{users:t.payload,error:""};case"USER_SAVED_SUCCESS":return{message:t.payload,error:""};case"USER_FAILURE":return{users:[],error:t.payload};default:return e}},We={username:"",isLoggedIn:""},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":case"LOGOUT_REQUEST":return Object(Ge.a)({},e);case"SUCCESS":case"FAILURE":return{isLoggedIn:t.payload};default:return e}},Xe={post:"",error:""},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_POST_REQUEST":case"FETCH_POST_REQUEST":case"UPDATE_POST_REQUEST":case"DELETE_POST_REQUEST":return Object(Ge.a)({},e);case"POST_SUCCESS":return{post:t.payload,error:""};case"POST_FAILURE":return{post:"",error:t.payload};default:return e}},Ze=Object(De.b)({user:Ke,post:Ye,auth:$e}),et=Object(De.c)(Ze,Object(De.a)(Qe.a));c.a.render(r.a.createElement(f.a,{store:et},r.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){e.exports=a.p+"static/media/logo2.39e7dd4f.png"}},[[203,1,2]]]);
//# sourceMappingURL=main.81dda063.chunk.js.map